# Production Configuration - Simple Setup
apiVersion: v1
kind: ConfigMap
metadata:
  name: carrental-config
  namespace: carrental-prod
  labels:
    app.kubernetes.io/name: carrental-config
    app.kubernetes.io/component: configuration
    app.kubernetes.io/part-of: carrental-saas
data:
  # Application Configuration
  SPRING_PROFILES_ACTIVE: "production"
  SPRING_DATASOURCE_URL: "jdbc:postgresql://postgres-service:5432/carrental_db"
  SPRING_DATASOURCE_DRIVER_CLASS_NAME: "org.postgresql.Driver"

  # JPA Configuration
  SPRING_JPA_HIBERNATE_DDL_AUTO: "validate"
  SPRING_JPA_SHOW_SQL: "false"
  SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT: "org.hibernate.dialect.PostgreSQLDialect"

  # Server Configuration
  SERVER_PORT: "8083"
  MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE: "health,metrics,prometheus"
  MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS: "when-authorized"

  # Logging Configuration
  LOGGING_LEVEL_COM_EXAMPLE_CARRENTAL: "INFO"
  LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY: "WARN"
  LOGGING_LEVEL_ORG_HIBERNATE: "WARN"

  # Frontend URLs
  FRONTEND_URL: "https://carrental.yourdomain.com"
  API_BASE_URL: "https://api.carrental.yourdomain.com"

  # CORS Configuration
  CORS_ALLOWED_ORIGINS: "https://carrental.yourdomain.com,https://www.carrental.yourdomain.com"
  CORS_ALLOWED_METHODS: "GET,POST,PUT,DELETE,OPTIONS"
  CORS_ALLOWED_HEADERS: "*"
  CORS_ALLOW_CREDENTIALS: "true"

---
# Secrets (template - fill with actual values)
apiVersion: v1
kind: Secret
metadata:
  name: carrental-secrets
  namespace: carrental-prod
  labels:
    app.kubernetes.io/name: carrental-secrets
    app.kubernetes.io/component: secrets
    app.kubernetes.io/part-of: carrental-saas
type: Opaque
stringData:
  # Database Credentials
  SPRING_DATASOURCE_USERNAME: "carrental_user"
  SPRING_DATASOURCE_PASSWORD: "your-secure-password-here"

  # JWT Configuration
  JWT_SECRET: "your-jwt-secret-key-256-bits-minimum"
  JWT_EXPIRATION: "86400000"

  # Email Configuration (if using)
  SPRING_MAIL_USERNAME: "your-email@domain.com"
  SPRING_MAIL_PASSWORD: "your-email-password"

  # Database Root Password
  POSTGRES_PASSWORD: "your-postgres-root-password"